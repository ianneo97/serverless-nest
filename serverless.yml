service: nestjs-serverless

frameworkVersion: '3'

plugins:
    - serverless-jetpack
    - serverless-plugin-optimize

provider:
    name: aws
    runtime: nodejs14.x
    region: ap-southeast-1 # or whatever your region is
    environment:
        SERVERLESS_MODE: true

functions:
    api:
        handler: dist/main.handler
        events:
            - http:
                  method: any
                  path: /{any+}

custom:
    optimize:
        external: ['swagger-ui-dist']
